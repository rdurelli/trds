%!TEX TS-program = pdflatex
% ------------------------------------------------------------------------
% ------------------------------------------------------------------------
% ICMC: Modelo de Trabalho Acadêmico (tese de doutorado, dissertação de
% mestrado e trabalhos monográficos em geral) em conformidade com 
% ABNT NBR 14724:2011: Informação e documentação - Trabalhos acadêmicos -
% Apresentação
% ------------------------------------------------------------------------
% ------------------------------------------------------------------------

% Opções: 
%   Qualificação         = qualificacao 
%   Curso                = doutorado/mestrado
%   Situação do trabalho = pre-defesa/pos-defesa (exceto para qualificação)
% -- opções do pacote babel --
% Idioma padrão = brazil
    %spanish,           % idioma adicional para hifenização
    %english,           % idioma adicional para hifenização
    %brazil             % o último idioma é o principal do documento
\documentclass[doutorado, pre-defesa, spanish, english, brazil]{packages/icmc}

% ---
% Pacotes Opcionais
% ---
\usepackage{rotating}           % Usado para rotacionar o texto
\usepackage{pifont}
\usepackage[all,knot,arc,import,poly]{xy}   % Pacote para desenhos gráficos
% Este pacote pode conflitar com outros pacotes gráficos como o ``pictex''
% Então é necessário usar apenas um dos pacotes conflitantes
\usepackage[colorinlistoftodos]{todonotes}
\usepackage{array}
\usepackage{multirow}
\usepackage{amsmath}
\usepackage{rotating}
\usepackage{longtable}
\usepackage{xcolor}
\usepackage{lipsum}                     % Dummytext
\usepackage{subfigure}

%--------------------------- teste de codigo fonte




%-------------------------------------------------------






\usepackage{xargs}                      % Use more than one optional parameter in a new commands
\usepackage[pdftex,dvipsnames]{xcolor}  % Coloured text etc.
% 
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
\newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#1]{#2}}


\newcommand{\VerbL}{0.52\textwidth}
\newcommand{\LatL}{0.42\textwidth} 

\lstdefinelanguage{ATL}{
  morekeywords={true,false,
   Bag,Set,OrderedSet,Sequence,Tuple,Integer,Real,Boolean,String,TupleType,
  not,and,or,xor,implies,module,create,from,uses,helper,def,context,
  rule,using,derived,to,mapsTo,distinct,
  foreach,in,do,if,then,else,endif,let,
  library,query,for,div,refining,entrypoint, drop, thisModule},
 keywordstyle=[2]{\textbf},
 morecomment=[l]{--},
 morestring=[b]{'}}
 
\lstdefinelanguage{Xtext}{
 morekeywords={grammar, with, hidden, generate, as, import, ID, , STRING, returns, current, terminal, enum},
 keywordstyle=[2]{\textbf},
 morecomment=[l]{//}, 
 morecomment=[s]{/*}{*/}, 
 morestring=[b]",
 tabsize=4}
 
\lstdefinelanguage{myDSL}{
 morekeywords={refactoringModel, author, name, lastName, refactoringLibraries, shortDescription, description, catalog, author, refactoring, motivation, summary, operation, language, body, preCondition, context, language, body, postCondition, ATL, OCL, key, value, source, target, category, elements},
 keywordstyle=[2]{\textbf},
 morecomment=[l]{//}, 
 morecomment=[s]{/*}{*/}, 
 morestring=[b]",
 tabsize=4}
 
 
 \lstdefinelanguage{XML}
{
  basicstyle=\ttfamily\footnotesize,
  morestring=[b]",
  moredelim=[s][\bfseries\color{Maroon}]{<}{\ },
  moredelim=[s][\bfseries\color{Maroon}]{</}{>},
  moredelim=[l][\bfseries\color{Maroon}]{/>},
  moredelim=[l][\bfseries\color{Maroon}]{>},
  morecomment=[s]{<?}{?>},
  morecomment=[s]{<!--}{-->},
  commentstyle=\color{DarkOliveGreen},
  stringstyle=\color{blue},
  identifierstyle=\color{red}
}
% ----------------------------------------------------------------
% Informações de dados para CAPA e FOLHA DE ROSTO
% ---An infrastructure for Creating KDM refactorings that deals with static synchronization and behavior preservation
\titulo{Uma Abordagem para Criação, Reúso e Aplicação de Refatorações no Contexto da Modernização Dirigida a Arquitetura}
\autor[Durelli, R. S.]{Rafael Serapilha Durelli}
\orientador{Prof. Dr.}{Márcio Eduardo Delamaro}
%\coorientador{Prof. Dr.}{Fulano de Tal}
\curso{CCMC}
\data{2}{2}{2016} % Data do depósito 
% ---


% ---
% RESUMOS
% ---

% Resumo em português
% conter no máximo 500 palavras
\textoresumo{
A Modernização Dirigida a Arquitetura (do inglês - \textit{Architecture-Driven Modernization} (ADM)) é uma iniciativa do \textit{Object Management Group} (OMG) no sentido de padronizar os tradicionais processos de reengenharia de software utilizando metamodelos. O metamodelo mais importante da ADM é o Knowledge Discovery Metamodel (KDM), cujo objetivo é representar todos artefatos de um determinado sistema, de forma independente de linguagem e plataforma. Um passo primordial durante processos de modernização de software é a aplicação de refatorações. No entanto, até o presente momento, há carência de abordagens que tratam das questões referentes a refatorações no contexto da ADM, desde a criação até a aplicação das mesmas. Além disso, atualmente, não existe uma forma sistemática e controlada de facilitar o reúso de refatorações que são específicas do KDM. Diante disso, são apresentados uma abordagem para criação e disponibilização de refatorações para o metamodelo KDM e um apoio ferramental que permite aplicá-las em diagramas de classe da UML. A abordagem possui dois passos: (\textit{i}) o primeiro envolve passos que apoiam o engenheiro de modernização durante a criação de refatorações para o KDM; (\textit{ii}) o segundo resume-se na especificação das refatorações por meio da criação de instâncias do metamodelo \textit{Structured Refactoring Metamodel} (SRM) e posterior disponibilização delas em um repositório. O apoio ferramental, denominado KDM-RE, é composto por três \textit{plug-ins} do Eclipse: (\textit{i}) o primeiro consiste em um conjunto de Wizards que apoia o engenheiro de software na aplicação das refatorações em diagramas de classe UML; (\textit{ii}) o segundo consiste em um módulo de propagação de mudanças, permitindo manter modelos internos do KDM sincronizados; (\textit{iii}) o terceiro fornece apoio à importação e reúso de refatorações disponíveis no repositório. Além disso, o terceiro módulo também contém uma linguagem específica de domínio, a qual é utilizada para auxiliar o engenheiro de software a instanciar o metamodelo SRM. Foi realizado um experimento, buscando reproduzir os cenários em que engenheiros de software realizam refatorações em instâncias do metamodelo KDM. Os resultados mostraram que a abordagem, bem como o apoio ferramental podem trazer benefícios para o engenheiro de software durante a atividade de aplicação de refatorações em sistemas, representados pelo metamodelo KDM.
}{ADM, KDM, Refatoração, Engenheiro de Modernização, Desenvolvimento Dirigido por Modelos, Experimento}

% ---
% resumo em inglês
% ---
\textoresumo[english]{
    Architecture Driven Modernization (ADM) is an initiative of the Object Management Group (OMG) whose main purpose is to provide standard metamodels that enable the conduction of modernization activities as reserve engineering and software transformation. In this context, the most important metamodel is the Knowledge Discovery Metamodel (KDM), whose objective is to represent software artifacts in a language- and platform-agnostic fashion. A fundamental step during software modernization is refactoring. However, there is a lack of approaches that address how refactoring can be applied in conjunction with ADM. In addition, few efforts have investigated how refactorings can be reused and systematically applied within the context of KDM representations. We propose an approach to creating and cataloging refactorings tailored to KDM. Our approach is twofold: (\textit{i}) the first part comprises steps that help the software modernization engineer create KDM-compliant refactorings; (\textit{ii}) the second part has to do with turning these refactoring descriptions into Structured Refactoring Metamodel (SRM) and making them available to be reused. To automate these activities, we developed a tool that makes it possible to apply refactorings to Unified Modeling Language (UML) class diagrams. Our tool, named KDM-RE, comprises three Eclipse plug-ins, which can be briefly described as follows: (\textit{i}) a set of Wizards aimed at supporting the software modernization engineer during refactoring activities; (\textit{ii}) a change propagation module that keeps the internal metamodels synchronized; and (\textit{iii}) a plug-in that supports the selection and reuse of the refactorings available in the repository. Moreover, we developed a domain specific language to minimize the effort required to instantiate SRMs.  We carried out an evaluation that simulates how software modernization engineers would go about refactoring KDM instances. Our results would seem to suggest that our approach, when automated by our tool, provides several advantages to software modernization engineers refactoring systems represented by KDMs. 
    
    %This paper is a brief model for writing qualification monographs, dissertations and thesis using \LaTeX environment, in accordance with the standards required by the Institute of Mathematics and Computer Sciences (ICMC), University of São Paulo (USP). For making this model, the latest version (1.9.2) \textit{abnTeX2} classes package was used. This package follow the rules of the Brazilian Association of Technical Standards. A drafting a monograph, dissertation or thesis can be done by overwriting the contents of this model.
    }{ADM, KDM, Refactoring, Software Modernization Engineers, Model-Driven Development, Experiment}

% ---
% resumo em espanhol
% ---
%\textoresumo[spanish]{
 %   Este trabajo es un breve modelo para la redacción de monografías de cualificación, disertaciones y tesis utilizando el ambiente LaTeX, de acuerdo a las normas exigidas por el Instituto de Ciencias Matemáticas y Computación (ICMC) de la Universidad de São Paulo (USP). Para la confección de este modelo fue utilizada la última versión (1.9.1) del paquete de clases abnTeX2 que sigue las normas de la Asociación Brasilera de Normas Técnicas. La elaboración de una monografía, disertación o tesis puede ser realizada reescribiendo el contenido de este modelo.
%    }{Template, Monografías de cualificación, Disertacion, Tesis, Latex}
    
    
% ---
% Configurações de aparência do PDF final
% ---
% alterando o aspecto da cor azul
\definecolor{blue}{RGB}{41,5,195}

% informações do PDF
\makeatletter
\hypersetup{
        pagebackref=true,
        pdftitle={\@title}, 
        pdfauthor={\@author},
        pdfsubject={\imprimirpreambulo},
        pdfcreator={LaTeX with abnTeX2/ICMC-USP},
        pdfkeywords={\palavraschave}, 
        colorlinks=true,            % false: boxed links; true: colored links
        linkcolor=black,             % color of internal links
        citecolor=black,             % color of links to bibliography
        filecolor=magenta,          % color of file links
        urlcolor=blue,
        bookmarksdepth=4
}
\makeatother
% --- 

% ----------------------------------------------------------
% ELEMENTOS PRÉ-TEXTUAIS
% ----------------------------------------------------------

% Inserir a ficha catalográfica
%\incluifichacatalografica*{tex/fichaCatalografica.pdf}
\incluifichacatalografica{634} % Código Cutter: número atribuído ao sobrenome do autor. Para obtê-lo, consulte a tabela Cutter Sanborn (em http://www.davignon.qc.ca/cutter1.html), procure pelo sobrenome ou forma mais próxima ao sobrenome completo e coloque o número indicado como parâmetro.


% DEDICATÓRIA / AGRADECIMENTO / EPÍGRAFE
\textodedicatoria*{tex/pre-textual/dedicatoria}
\textoagradecimentos*{tex/pre-textual/agradecimentos}
\textoepigrafe*{tex/pre-textual/epigrafe}

% Inclui a lista de figuras
\incluilistadefiguras

% Inclui a lista de tabelas
\incluilistadetabelas

% Inclui a lista de quadros
%\incluilistadequadros

% Inclui a lista de algoritmos
\incluilistadealgoritmos

% Inclui a lista de códigos
\incluilistadecodigos

% Inclui a lista de siglas e abreviaturas
\incluilistadesiglas

% Inclui a lista de símbolos
%\incluilistadesimbolos

% ----
% Início do documento
% ----
\begin{document}
% ----------------------------------------------------------
% ELEMENTOS TEXTUAIS
% ----------------------------------------------------------
\textual

\chapter{Introdução}
\label{chapter:introducao}
\input{tex/Introducao_new.tex}

\chapter{Fundamentação Teórica}
\label{chapter:fundamentacao_teorica}
\input{tex/fundamentacao_teorica}

%\chapter{Modernização Orientada à Arquitetura e KDM}
%\label{chapter:adm_kdm}
%\input{tex/adm_kdm}

\chapter{Mapeamento Sistemático sobre ADM e KDM}\label{chapter:mapeamento_sistematico}
\input{tex/mapeamento_sistematico}

\chapter{Uma Abordagem para Criar Refatorações para o KDM}\label{chapter:catalogo_refactoring_KDM}
\input{tex/cap_diretrizes_P_criar_refatoracao_kdm.tex}

\chapter{SRM: Um Metamodelo para Promover o Reúso das Refatorações para o KDM}
\label{chapter:Toward_a_Refactoring_Metamodel_for_KDM}
\input{tex/Toward_a_Refactoring_Metamodel_for_KDM.tex}

%\chapter{Uma Abordagem para Manter o KDM Sincronizado Após a Aplicação de Refatorações}\label{chapter:Abordagem_de_sincronizacao}
%\input{tex/cap_sinc_kdm.tex}

\chapter{A Ferramenta KDM-RE}\label{chapter:ferramenta_kdm_re}
\input{tex/cap_ferramenta_kdm_re.tex}

\chapter{Avaliação}\label{chapter:avaliacao}
\input{tex/cap_experimento.tex}

\chapter{Conclusões}\label{chapter:conclusoes}
\input{tex/cap_conclusao.tex}



% ---
% Finaliza a parte no bookmark do PDF, para que se inicie o bookmark na raiz
% ---
\bookmarksetup{startatroot}% 
% ---

% ----------------------------------------------------------
% ELEMENTOS PÓS-TEXTUAIS
% ----------------------------------------------------------
\postextual

% ----------------------------------------------------------
% Referências bibliográficas
% ----------------------------------------------------------
\bibliography{references}

% ---------------------------------------------------------------------
% GLOSSÁRIO
% ---------------------------------------------------------------------

% Arquivo que contém as definições que vão aparecer no glossário
%\input{tex/glossario}
% Comando para incluir todas as definições do arquivo glossario.tex
%\glsaddall
% Impressão do glossário
%\printglossaries

% ----------------------------------------------------------
% Apêndices
% ----------------------------------------------------------

% ---
% Inicia os apêndices
% ---
\begin{apendicesenv}
    
 %   \chapter{Teste}
  %  \begin{center}
   %     \fbox{\includegraphics[page=1,scale=0.45]{tex/appendix/formulario_experimento2_1.pdf}}
%    \end{center}
 %   \newpage


  %  \chapter{Formulários dos Experimentos}
   % \label{chapter:formulario_experimento2}
%    \input{tex/appendix/formulario_caracterizacao_experimento}
    
 %   \chapter{Documento básico usando a classe \textit{icmc}}
  %  \label{chapter:documento-basico}
   % \input{tex/appendix/documento-basico}
    
\chapter{Regras Pré-definidas para Sincronizar o KDM}
\label{apendice:regras_propagacao}
\input{tex/appendix/apendiciaRegrasPreDefinidasPropagacao}

%\chapter{Regras em ATL para Sincronizar o KDM}
%\label{apendice:regras_propagacao_ATL}
%\input{tex/appendix/apendiceImplementingATLPropagation}

\end{apendicesenv}
% ---


% ----------------------------------------------------------
% Anexos
% ----------------------------------------------------------

% ---
% Inicia os anexos
% ---
%\begin{anexosenv}

 %   \chapter{Páginas interessantes na Internet} 
  %  \label{chapter:paginas-interessantes}
   % \input{tex/annex/paginas-interessantes}

%\end{anexosenv}
% ---

\end{document}